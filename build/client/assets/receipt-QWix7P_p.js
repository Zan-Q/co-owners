import{r as i,j as e}from"./jsx-runtime-D2HyDbKh.js";import{t as c}from"./transactionAPI-BMleeZxG.js";import{b as m}from"./components-7CkHrf4S.js";import"./axiosConfig-D8aEX1dT.js";import"./clsx-B-dksMZM.js";import"./index-Cd_vq22D.js";import"./index-PxjvPj8E.js";function N(){const{signedReceipts:a}=m(),[s,t]=i.useState(null),l=r=>{t({_id:r._id,signedUrl:r.signedUrl,amount:""})},n=()=>{t(null)},o=r=>{s&&t({...s,amount:r.target.value})},d=async()=>{console.log("Saved amount:",s==null?void 0:s.amount),console.log("Receipt ID:",s==null?void 0:s._id),await c.processReceipt(s==null?void 0:s._id,s==null?void 0:s.amount),n(),window.location.reload()};return e.jsxs("div",{className:"container mx-auto p-4 sm:p-6",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-4 text-center sm:text-left",children:"Receipts"}),a&&a.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 border-b border-gray-200",children:"Business Name"}),e.jsx("th",{className:"py-2 px-4 border-b border-gray-200",children:"User Name"}),e.jsx("th",{className:"py-2 px-4 border-b border-gray-200",children:"Receipt URL"})]})}),e.jsx("tbody",{children:a.map(r=>e.jsxs("tr",{children:[e.jsx("td",{className:"py-2 px-4 border-b border-gray-200 text-center",children:r.businessName}),e.jsx("td",{className:"py-2 px-4 border-b border-gray-200 text-center",children:r.userName||"N/A"}),e.jsx("td",{className:"py-2 px-4 border-b border-gray-200 text-center",children:e.jsx("button",{onClick:()=>l({_id:r._id,signedUrl:r.signedUrl}),className:"text-blue-500 hover:underline",children:r.receiptUrl})})]},r._id))})]})}):e.jsx("p",{className:"text-center",children:"No receipts found."}),s&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full",children:[e.jsx("img",{src:s.signedUrl,alt:"Receipt",className:"mb-4 w-full h-auto"}),e.jsx("input",{type:"text",value:s.amount,onChange:o,placeholder:"Enter amount",className:"w-full p-2 border border-gray-300 rounded"}),e.jsxs("div",{className:"flex justify-center gap-5 mt-5",children:[e.jsx("button",{onClick:n,className:"bg-gray-500 text-white py-2 px-4 rounded hover:bg-gray-600",children:"Cancel"}),e.jsx("button",{onClick:d,className:"bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600",children:"Save"})]})]})})]})}export{N as default};
//# sourceMappingURL=receipt-QWix7P_p.js.map
