function w(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,t)}return n}function l(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w(Object(n),!0).forEach(function(t){E(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function E(r,e,n){return e=J(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function F(r,e){if(typeof r!="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var t=n.call(r,e||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function J(r){var e=F(r,"string");return typeof e=="symbol"?e:String(e)}function R(r,e){var n=new FormData(r,e);if(e&&e.type==="submit"&&e.name!==""){var t=n.getAll(e.name);t.includes(e.value)||n.append(e.name,e.value)}return n}function y(r){return r?r.split(/\.|(\[\d*\])/).reduce((e,n)=>{if(typeof n<"u"&&n!==""&&n!=="__proto__"&&n!=="constructor"&&n!=="prototype")if(n.startsWith("[")&&n.endsWith("]")){var t=n.slice(1,-1);e.push(Number(t))}else e.push(n);return e},[]):[]}function T(r){return r.reduce((e,n)=>typeof n=="number"?"".concat(e,"[").concat(Number.isNaN(n)?"":n,"]"):e===""||n===""?[e,n].join(""):[e,n].join("."),"")}function S(r,e){return typeof e<"u"?T([...y(r),e]):r??""}function D(r,e){var n=y(r),t=y(e);return n.length>=t.length&&t.every((a,o)=>n[o]===a)}function p(r,e,n){for(var t=y(e),a=t.length,o=a-1,f=-1,s=r;s!=null&&++f<a;){var i=t[f],u=t[f+1],d=f!=o?Object.prototype.hasOwnProperty.call(s,i)&&s[i]!==null?s[i]:typeof u=="number"?[]:{}:n(s[i]);s[i]=d,s=s[i]}}function _(r,e){var n=r;for(var t of y(e)){if(typeof n>"u"||n==null)break;if(!Object.prototype.hasOwnProperty.call(n,t))return;if(v(n)&&typeof t=="string")n=n[t];else if(Array.isArray(n)&&typeof t=="number")n=n[t];else return}return n}function v(r){return!!r&&r.constructor===Object&&Object.getPrototypeOf(r)===Object.prototype}function I(r){return typeof File>"u"?!1:r instanceof File}function c(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(v(r)){var n=Object.keys(r).sort().reduce((t,a)=>{var o=c(r[a],e);return typeof o<"u"&&(t[a]=o),t},{});return Object.keys(n).length===0?void 0:n}if(Array.isArray(r))return r.length===0?void 0:r.map(t=>c(t,e));if(!(typeof r=="string"&&r===""||r===null||I(r)&&(!e||r.size===0)))return r}function k(r){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={},a=(e=n.resolve)!==null&&e!==void 0?e:s=>s;function o(s,i){var u=c(a(s));if(typeof u<"u"&&(t[i]=u),Array.isArray(s))for(var d=0;d<s.length;d++)o(s[d],"".concat(i,"[").concat(d,"]"));else if(v(s))for(var[h,N]of Object.entries(s))o(N,i?"".concat(i,".").concat(h):h)}if(r){var f;o(r,(f=n.prefix)!==null&&f!==void 0?f:"")}return t}function A(r,e){if(!r)throw new Error(e)}function U(){return(Date.now()*Math.random()).toString(36)}function W(r){return JSON.parse(JSON.stringify(r))}var b="__intent__",m="__state__";function z(r){var e=r.get(b),n=r.get(m);A((typeof e=="string"||e===null)&&(typeof n=="string"||n===null),'The input name "'.concat(b,'" and "').concat(m,'" are reserved by Conform. Please use another name for your input.'));var t={payload:{},fields:new Set,intent:L(e)};n&&(t.state=JSON.parse(n));var a=function(i){if(o===b||o===m)return 1;t.fields.add(o),p(t.payload,o,u=>u?Array.isArray(u)?u.concat(i):[u,i]:i)};for(var[o,f]of r.entries())a(f);return t}function q(r,e){var n=z(r),t=n.intent;if(t)switch(t.type){case"update":{var a=S(t.payload.name,t.payload.index),o=t.payload.value;typeof t.payload.value<"u"&&(a?p(n.payload,a,()=>o):n.payload=o);break}case"reset":{var f=S(t.payload.name,t.payload.index);f?p(n.payload,f,()=>{}):n.payload={};break}case"insert":case"remove":case"reorder":{$(n.payload,t);break}}var s=e.resolve(n.payload,t),i=u=>C(l(l({},n),{},{value:u.value,error:u.error}));return s instanceof Promise?s.then(i):i(s)}function C(r){return r.intent||!r.value||r.error?{status:r.intent?void 0:"error",payload:r.payload,error:typeof r.error<"u"?r.error:{},reply(e){return j(r,e)}}:{status:"success",payload:r.payload,value:r.value,reply(e){return j(r,e)}}}function j(r){var e,n,t,a,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if("resetForm"in o&&o.resetForm||((e=r.intent)===null||e===void 0?void 0:e.type)==="reset"&&((n=r.intent.payload.name)!==null&&n!==void 0?n:"")==="")return{initialValue:null};if("hideFields"in o&&o.hideFields)for(var f of o.hideFields){var s=_(r.payload,f);typeof s<"u"&&p(r.payload,f,()=>{})}var i="formErrors"in o||"fieldErrors"in o?c(l({"":(t=o.formErrors)!==null&&t!==void 0?t:null},o.fieldErrors)):null,u=r.error||i?l(l({},r.error),i):void 0;return{status:r.intent?void 0:u?"error":"success",intent:r.intent?r.intent:void 0,initialValue:(a=c(r.payload,typeof document<"u"))!==null&&a!==void 0?a:{},error:u,state:r.state,fields:Array.from(r.fields)}}function L(r){if(!r)return null;var e=JSON.parse(r);if(typeof e.type!="string"||typeof e.payload>"u")throw new Error("Unknown form control intent");return e}function M(r){switch(r.type){case"insert":return JSON.stringify({type:r.type,payload:l(l({},r.payload),{},{defaultValue:g(r.payload.defaultValue)})});case"update":return JSON.stringify({type:r.type,payload:l(l({},r.payload),{},{value:g(r.payload.value)})});default:return JSON.stringify(r)}}function O(r,e){var n;switch(A(Array.isArray(r),"Failed to update list. The value is not an array."),e.type){case"insert":r.splice((n=e.payload.index)!==null&&n!==void 0?n:r.length,0,e.payload.defaultValue);break;case"remove":r.splice(e.payload.index,1);break;case"reorder":r.splice(e.payload.to,0,...r.splice(e.payload.from,1));break;default:throw new Error("Unknown list intent received")}}function $(r,e){p(r,e.payload.name,n=>{var t=n??[];return O(t,e),t})}var P=Symbol.for("root");function K(r,e,n){var t=Object.keys(r).sort((i,u)=>u.localeCompare(i)),a={},o=function(){var u=r[f];D(f,e)&&f!==e&&(p(a,f,d=>typeof d>"u"?u:(d[P]=u,d)),delete r[f])};for(var f of t)o();var s=n(_(a,e));Object.assign(r,k(s,{resolve(i){if(v(i)||Array.isArray(i)){var u;return(u=i[P])!==null&&u!==void 0?u:null}return i},prefix:e}))}function B(r,e,n){K(r,e.payload.name,t=>{var a=t??[];switch(e.type){case"insert":O(a,{type:e.type,payload:l(l({},e.payload),{},{defaultValue:n==null?void 0:n(e.payload.defaultValue)})});break;default:O(a,e);break}return a})}function g(r){return v(r)?Object.entries(r).reduce((e,n)=>{var[t,a]=n;return e[t]=g(a),e},{}):Array.isArray(r)?r.map(g):r instanceof Date?r.toISOString():typeof r=="boolean"?r?"on":void 0:typeof r=="number"||typeof r=="bigint"?r.toString():r??void 0}export{b as I,l as _,k as a,S as b,B as c,_ as d,K as e,T as f,U as g,v as h,A as i,D as j,W as k,p as l,R as m,c as n,M as o,q as p,$ as q,y as r,g as s,z as t,P as u};
//# sourceMappingURL=submission-BBd9SSur.js.map
