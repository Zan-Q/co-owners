import{j as e}from"./jsx-runtime-D2HyDbKh.js";import{H as j}from"./honeypot-4ssNBlKD.js";import{z as r}from"./index-BeXw7Xwl.js";import{G as P}from"./error-boundary-BSGQcXDS.js";import{u as F,E as N,g as b,O as v,a as i}from"./forms-pZ2rD6vG.js";import{S}from"./spacer-ByPtYu5l.js";import{S as T}from"./status-button-jM1d2HtI.js";import{u as E}from"./misc-D_OAexT3.js";import{u as w}from"./index-Cd_vq22D.js";import{a as V,F as C}from"./components-7CkHrf4S.js";import{g as I}from"./constraint-Bik5U1QS.js";import{p as Q}from"./parse-C-ev3aC7.js";import"./index-PxjvPj8E.js";import"./exports-BPTENwJi.js";import"./submission-BBd9SSur.js";import"./index-tx3aR2qd.js";import"./index-4Ns2fbOC.js";import"./button-BTFmWHin.js";import"./icon-CldSu2rP.js";import"./tooltip-DXoIDLmn.js";import"./clsx-B-dksMZM.js";const te={getSitemapEntries:()=>null},s="code",d="target",l="type",p="redirectTo",k=["onboarding","reset-password","change-email","2fa"],h=r.enum(k),x=r.object({[s]:r.string().min(6).max(6),[l]:h,[d]:r.string(),[p]:r.string().optional()});function re(){const[o]=w(),u=E(),n=V(),f=h.safeParse(o.get(l)),m=f.success?f.data:null,c=e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-h1",children:"Check your email"}),e.jsx("p",{className:"mt-3 text-body-md text-muted-foreground",children:"We've sent you a code to verify your email address."})]}),y={onboarding:c,"reset-password":c,"change-email":c,"2fa":e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-h1",children:"Check your 2FA app"}),e.jsx("p",{className:"mt-3 text-body-md text-muted-foreground",children:"Please enter your 2FA code to verify your identity."})]})},[a,t]=F({id:"verify-form",constraint:I(x),lastResult:n==null?void 0:n.result,onValidate({formData:g}){return Q(g,{schema:x})},defaultValue:{code:o.get(s),type:m,target:o.get(d),redirectTo:o.get(p)}});return e.jsxs("main",{className:"container flex flex-col justify-center pb-32 pt-20",children:[e.jsx("div",{className:"text-center",children:m?y[m]:"Invalid Verification Type"}),e.jsx(S,{size:"xs"}),e.jsxs("div",{className:"mx-auto flex w-72 max-w-full flex-col justify-center gap-1",children:[e.jsx("div",{children:e.jsx(N,{errors:a.errors,id:a.errorId})}),e.jsx("div",{className:"flex w-full gap-2",children:e.jsxs(C,{method:"POST",...b(a),className:"flex-1",children:[e.jsx(j,{}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(v,{labelProps:{htmlFor:t[s].id,children:"Code"},inputProps:{...i(t[s],{type:"text"}),autoComplete:"one-time-code",autoFocus:!0},errors:t[s].errors})}),e.jsx("input",{...i(t[l],{type:"hidden"})}),e.jsx("input",{...i(t[d],{type:"hidden"})}),e.jsx("input",{...i(t[p],{type:"hidden"})}),e.jsx(T,{className:"w-full",status:u?"pending":a.status??"idle",type:"submit",disabled:u,children:"Submit"})]})})]})]})}function se(){return e.jsx(P,{})}export{se as ErrorBoundary,re as default,te as handle};
//# sourceMappingURL=verify-BgUGjlc7.js.map
